{"version":3,"sources":["components/ImageGallery/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Modal/Modal.jsx","components/SearchBar/Searchbar.jsx","components/Button/Button.jsx","services/Api.jsx","App.js","index.js"],"names":["ImageGalleryItem","images","onImageClick","handleOnClick","e","target","srcset","map","id","webformatURL","largeImageURL","tags","src","srcSet","alt","className","onClick","protoType","PropTypes","arrayOf","exact","string","func","ImageGallery","propType","array","elementType","Modal","handleEscClick","code","props","toggleModal","onOverlayClick","currentTarget","window","addEventListener","this","removeEventListener","children","Component","SearchBar","state","query","handleChange","setState","value","handleSubmit","preventDefault","onSubmit","type","onChange","autoComplete","autoFocus","placeholder","Button","onBtnClick","axios","defaults","baseURL","params","key","image_type","orientation","per_page","getImages","a","q","page","get","then","response","data","hits","propTypes","number","App","currentPage","searchQuery","imageUrl","modalStatus","isLoading","error","onChangeQuery","fetchImages","options","prevState","length","catch","finally","openModal","url","prevProps","scrollTo","top","document","documentElement","scrollHeight","behavior","color","height","width","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.f7986ad9.chunk.js","sourcesContent":["import PropTypes from 'prop-types';\r\n\r\nfunction ImageGalleryItem({ images, onImageClick }) {\r\n  const handleOnClick = e => {\r\n    onImageClick(e.target.srcset);\r\n  };\r\n  return images.map(({ id, webformatURL, largeImageURL, tags }) => (\r\n    <li key={id}>\r\n      <img\r\n        src={webformatURL}\r\n        srcSet={largeImageURL}\r\n        alt={tags}\r\n        className=\"ImageGalleryItem-image\"\r\n        onClick={handleOnClick}\r\n      />\r\n    </li>\r\n  ));\r\n}\r\n\r\nImageGalleryItem.protoType = {\r\n  images: PropTypes.arrayOf(\r\n    PropTypes.exact({\r\n      src: PropTypes.string,\r\n      srcSet: PropTypes.string,\r\n      tags: PropTypes.string,\r\n    }),\r\n  ),\r\n  onImageClick: PropTypes.func,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import ImageGalleryItem from './ImageGalleryItem';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst ImageGallery = ({ images, onImageClick }) => {\r\n  return (\r\n    <ul className=\"ImageGallery\">\r\n      <ImageGalleryItem images={images} onImageClick={onImageClick} />\r\n    </ul>\r\n  );\r\n};\r\n\r\nImageGallery.propType = {\r\n  images: PropTypes.array,\r\n  onImageClick: PropTypes.func,\r\n  ImageGalleryItem: PropTypes.elementType,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleEscClick);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleEscClick);\r\n  }\r\n\r\n  handleEscClick = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.toggleModal();\r\n    }\r\n  };\r\n\r\n  onOverlayClick = e => {\r\n    if (e.currentTarget === e.target) {\r\n      this.props.toggleModal();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"Overlay\" onClick={this.onOverlayClick}>\r\n        <div className=\"Modal\">{this.props.children}</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nModal.propTypes = {\r\n  handleEscClick: PropTypes.func,\r\n  onOverlayClick: PropTypes.func,\r\n  toggleModal: PropTypes.func,\r\n};\r\n\r\nexport default Modal;\r\n","import { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass SearchBar extends Component {\r\n  state = {\r\n    query: '',\r\n  };\r\n\r\n  handleChange = e => {\r\n    this.setState({ query: e.currentTarget.value });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    this.props.onSubmit(this.state.query);\r\n    this.setState({ query: '' });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className=\"Searchbar\">\r\n        <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className=\"SearchForm-button\">\r\n            <span className=\"SearchForm-button-label\">Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className=\"SearchForm-input\"\r\n            value={this.state.query}\r\n            onChange={this.handleChange}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nSearchBar.propType = {\r\n  handleSubmit: PropTypes.func,\r\n  handleChange: PropTypes.func,\r\n};\r\n\r\nexport default SearchBar;\r\n","import PropTypes from 'prop-types';\r\n\r\nfunction Button({ onBtnClick }) {\r\n  return (\r\n    <button className=\"Button\" type=\"button\" onClick={onBtnClick}>\r\n      Load More\r\n    </button>\r\n  );\r\n}\r\n\r\nButton.propTypes = { onBtnClick: PropTypes.func };\r\n\r\nexport default Button;\r\n","import axios from 'axios';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst BASE_URL = 'https://pixabay.com/api/';\r\nconst API_KEY = '19936293-f4c012c315df51b179ddeb0ea';\r\n\r\naxios.defaults.baseURL = BASE_URL;\r\naxios.defaults.params = {\r\n  key: API_KEY,\r\n  image_type: 'photo',\r\n  orientation: 'horizontal',\r\n  per_page: 12,\r\n};\r\n\r\nconst getImages = async ({ q, page }) => {\r\n  return axios\r\n    .get('', { params: { q, page } })\r\n    .then(response => response.data.hits);\r\n};\r\n\r\ngetImages.propTypes = {\r\n  query: PropTypes.string,\r\n  page: PropTypes.number,\r\n};\r\n\r\nexport default getImages;\r\n","import './App.css';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport { Component } from 'react';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport Modal from './components/Modal/Modal';\nimport SearchBar from './components/SearchBar/Searchbar';\nimport Button from './components/Button/Button';\nimport Loader from 'react-loader-spinner';\nimport getImages from './services/Api';\n\nclass App extends Component {\n  state = {\n    images: [],\n    currentPage: 1,\n    searchQuery: '',\n    imageUrl: '',\n    modalStatus: false,\n    isLoading: false,\n    error: false,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.fetchImages();\n    }\n    if (this.state.images.length > 12) {\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: 'smooth',\n      });\n    }\n  }\n\n  onChangeQuery = query => {\n    if (query !== this.state.query) {\n      this.setState({\n        searchQuery: query,\n        currentPage: 1,\n        images: [],\n        error: false,\n      });\n    }\n    // this.fetchImages(query);\n  };\n\n  toggleModal = () => {\n    this.setState(({ modalStatus }) => ({\n      modalStatus: !modalStatus,\n    }));\n  };\n\n  fetchImages = () => {\n    const { currentPage, searchQuery } = this.state;\n    const page = currentPage;\n    const q = searchQuery;\n    const options = { q, page };\n\n    this.setState(prevState => ({\n      currentPage: prevState.currentPage + 1,\n      isLoading: true,\n    }));\n    getImages(options)\n      .then(images => {\n        if (images.length > 0) {\n          this.setState(prevState => ({\n            images: [...prevState.images, ...images],\n          }));\n        } else {\n          this.setState({ error: true });\n        }\n      })\n      .catch(() => this.setState({ error: true }))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  openModal = url => {\n    this.setState({\n      imageUrl: url,\n    });\n    this.toggleModal();\n  };\n\n  render() {\n    const { images, imageUrl, isLoading, modalStatus, error } = this.state;\n    return (\n      <div className=\"Container\">\n        <SearchBar onSubmit={this.onChangeQuery} />\n        {error && (\n          <h1 className=\"ErrorMessage\">There are no pictures on your query!</h1>\n        )}\n        {images.length > 0 && (\n          <ImageGallery images={images} onImageClick={this.openModal} />\n        )}\n        {isLoading && (\n          <Loader\n            type=\"ThreeDots\"\n            color=\"#00BFFF\"\n            height={80}\n            width={80}\n            className=\"Loader\"\n          />\n        )}\n        {images.length >= 12 && !isLoading && (\n          <Button onBtnClick={this.fetchImages} />\n        )}\n        {!!modalStatus && (\n          <Modal toggleModal={this.toggleModal}>\n            <img src={imageUrl} alt=\"pic\" />\n          </Modal>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}